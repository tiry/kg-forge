<!DOCTYPE html>
<html>
    <head>
        <title>Thierry Delprat : Content Lake - focus</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Thierry Delprat</a></span>
                            </li>
                                                    <li>
                                <span><a href="Thierry-Delprat-Home_2134082128.html">Thierry Delprat Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="Content-Lake_3352431259.html">Content Lake</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Thierry Delprat : Content Lake - focus
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                            
        
    
        
    
        
        
            Created by <span class='author'> Thierry Delprat</span>, last modified on Jun 20, 2025
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p>On the <strong>Content Lake</strong>, I believe we need to focus on two short-term priorities:</p><ul><li><p>Defining the appropriate <strong>data structure</strong> in HXPR</p></li><li><p>Ensuring we have the right <strong>API to store data</strong> in HXPR</p></li></ul><p>Once we have storage and API we can start plugging the Content Lake and address ACLs incrementally.</p><h2 id="ContentLake-focus-DataStructure">Data Structure</h2><p>We need to <strong>define and freeze the HXPR schema / document type definition as soon as possible</strong>.</p><p>The target schema should account for the following:</p><ul><li><p><strong>Source Repository Information</strong></p><ul><li><p><code>source_repository_id</code></p></li><li><p><code>source_doc_id</code></p></li><li><p><code>source_acl</code> (?)</p></li><li><p>...</p></li></ul></li><li><p><strong>Ingestion Metadata</strong></p><ul><li><p><code>ingestion_date</code></p></li><li><p>...</p></li></ul></li><li><p><strong>Common Metadata</strong></p><ul><li><p><code>type</code></p></li><li><p><code>title</code></p></li><li><p><code>description</code></p></li><li><p><code>created_at</code></p></li><li><p><code>modified_at</code></p></li><li><p>...</p></li></ul></li><li><p><strong>Enriched Metadata</strong></p></li><li><p><strong>Curated Data</strong></p><ul><li><p><code>chunks</code></p></li><li><p><code>vectors</code></p></li><li><p><code>markdown_rendition</code></p></li></ul></li><li><p><strong>Other Metadata</strong></p><ul><li><p>Probably a flexible <code>json</code> field for custom extensions</p></li></ul></li></ul><p>ðŸ“„ <a href="Content-Lake---Content-Model_3182532046.html" data-linked-resource-id="3182532046" data-linked-resource-version="2" data-linked-resource-type="page">Content Model on Confluence</a> ðŸ”— <a class="external-link" href="https://github.com/HylandSoftware/hxpr/blob/feature/CIN-1509-CreateEmbeddingAPI/modules/core/hxpr-core/src/main/resources/schema/cinremote.xsd" rel="nofollow">Existing Schema</a> ðŸ”— <a class="external-link" href="https://github.com/HylandSoftware/hxpr/blob/feature/CIN-1509-CreateEmbeddingAPI/modules/core/hxpr-core/src/main/resources/OSGI-INF/CoreExtensions.xml#L109" rel="nofollow">Mixin Definition</a></p><p>ðŸ‘‰ <strong>@Biraj / @Florent â€” could you please review this and help finalize a clean, consistent structure?</strong></p><h2 id="ContentLake-focus-StorageAPI">Storage API</h2><p>Once the structure is finalized, we should be able to use the <strong>HXPR CRUD REST API</strong> to:</p><ul><li><p>Store the initial document</p></li><li><p>Update the document with <code>chunks</code> and <code>embeddings</code></p></li><li><p>Update the document with <code>enriched_metadata</code></p></li></ul><p>These updates will automatically trigger indexing events in HXPR, so the client code interacting with the Content Lake can simply focus on storing the data.</p><h2 id="ContentLake-focus-ACLs">ACLs</h2><p>Weâ€™ve started discussions on ACL handling. Here are some key considerations:</p><ul><li><p><strong>Ideal approach:</strong> Send raw ACLs and compute inheritance at the HXPR level</p><ul><li><p>Pro: Avoid re-importing when ACLs or groups change</p></li><li><p>Con: Requires HXPR to support inherited ACL computation</p></li></ul></li><li><p><strong>Alternative scenario:</strong> When importing a <strong>subtree</strong>, we may need to:</p><ul><li><p>Merge ACLs client-side</p></li><li><p>Define a <strong>virtual tree structure</strong> in HXPR</p></li></ul></li></ul><p>Most of these topics have been discussed previously â€” it's now time to make clear decisions.</p><p>@Biraj â€” letâ€™s define what we want and whatâ€™s feasible in the short term:</p><ul><li><p>Should we <strong>avoid subtree imports</strong> for now?</p></li><li><p>Should we <strong>only support positive ACLs</strong> (no denies)?</p></li></ul><p>References:</p><ul><li><p><a href="Ingest-API-and-ACLs_2862976116.html" data-linked-resource-id="2862976116" data-linked-resource-version="1" data-linked-resource-type="page">Ingest API and ACLs</a></p></li><li><p><a href="Connector-and-ACLs_3342665299.html" data-linked-resource-id="3342665299" data-linked-resource-version="2" data-linked-resource-type="page">Connector and ACLs</a></p></li></ul><p /><span class="confluence-embedded-file-wrapper image-center-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-center" width="760" loading="lazy" src="attachments/3352234692/3362653543.png?width=760" data-image-src="attachments/3352234692/3362653543.png" data-height="345" data-width="884" data-unresolved-comment-count="0" data-linked-resource-id="3362653543" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="Screenshot 2025-06-20 at 9.59.27â€¯AM.png" data-base-url="https://hyland.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="3352234692" data-linked-resource-container-version="2" data-media-id="3b8ee516-3fb2-4f39-901e-75bf7ad89871" data-media-type="file"></span><p />
                    </div>

                                        <div class="pageSection group">
                        <div class="pageSectionHeader">
                            <h2 id="attachments" class="pageSectionTitle">Attachments:</h2>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/3352234692/3362653543.png">Screenshot 2025-06-20 at 9.59.27â€¯AM.png</a> (image/png)
                                <br/>
                                                    </div>
                    </div>
                    
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Nov 19, 2025 21:39</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
